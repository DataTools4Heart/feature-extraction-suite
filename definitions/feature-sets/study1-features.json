{
  "url": "https://datatools4heart.eu/feature-sets/study1_features",
  "name": "study1_features",
  "title": "Time series data for study-1",
  "description": "Time series data for study-1",
  "version": "0.1",
  "date": "2023-01-26",
  "fhirVersion": "4.0.1",
  "publisher": "DT4H WP2 Team (SRDC Corp.)",
  "referenceTimePoints": {
    "method": "feature-group",
    "useEndTime": true
  },
  "featureGroup": [
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/encounters",
      "feature": [
        {
          "name": "encounterClass",
          "description": "Type of encounter (emergency, impatient, outpatient, etc)"
        },
        {
          "name": "admissionYear",
          "description": "Year of admission to hospital"
        },
        {
          "name": "primaryReasonCode",
          "description": "ICD 10 code of the primary reason for the encounter"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/patient_demographics",
      "feature": [
        {
          "name": "gender",
          "description": "Gender of the patient"
        },
        {
          "name": "age",
          "description": "Age of the patient at reference point",
          "valueExpr": {
            "fhirPath": "utl:getPeriod(birthDate, %referenceTimePoint, 'years')",
            "dataType": "integer"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/vital_signs",
      "pivot": {
        "name": "code",
        "description": "Vital signs collected in an encounter",
        "values": [
          {
            "name": "weight",
            "value": "29463-7"
          },
          {
            "name": "height",
            "value": "8302-2"
          },
          {
            "name": "systolicBp",
            "value": "8480-6"
          },
          {
            "name": "diastolicBp",
            "value": "8462-4"
          },
          {
            "name": "heartRate",
            "value": "8867-4"
          },
          {
            "name": "oxygenSaturation",
            "value": "2708-6"
          }
        ]
      },
      "feature": [
        {
          "name": "value",
          "description": "Value of the vital sign",
          "temporalAgg": [
            {
              "aggOp": ["first"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/lab_results",
      "pivot": {
        "name": "code",
        "description": "Important lab results to be evaluated features",
        "values": [
          {
            "name": "hemoglobin",
            "value": "718-7"
          },
          {
            "name": "ferritin",
            "value": "2276-4"
          },
          {
            "name": "tfs",
            "value": "2502-3"
          },
          {
            "name": "ntProBnp",
            "value": "33762-6"
          },
          {
            "name": "bnp",
            "value": "30934-4"
          },
          {
            "name": "crpHs",
            "value": "1988-5"
          },
          {
            "name": "crpNonHs",
            "value": "30522-7"
          },
          {
            "name": "tropIHs",
            "value": "89579-7"
          },
          {
            "name": "tropInHs",
            "value": "10839-9"
          },
          {
            "name": "tropTHs",
            "value": "67151-1"
          },
          {
            "name": "tropTnHs",
            "value": "6598-7"
          },
          {
            "name": "triGly",
            "value": "14927-8"
          },
          {
            "name": "cholTot",
            "value": "14647-2"
          },
          {
            "name": "hdl",
            "value": "14646-4"
          },
          {
            "name": "ldl",
            "value": "22748-8"
          },
          {
            "name": "potassium",
            "value": "2823-3"
          },
          {
            "name": "sodium",
            "value": "2951-2"
          },
          {
            "name": "creatBS",
            "value": "2160-0"
          },
          {
            "name": "creatUS",
            "value": "2161-8"
          },
          {
            "name": "albuminBS",
            "value": "1751-7"
          },
          {
            "name": "albuminUS",
            "value": "1754-1"
          },
          {
            "name": "eGFR",
            "value": "69405-9"
          },
          {
            "name": "bun",
            "value": "14937-7"
          },
          {
            "name": "acr",
            "value": "32294-1"
          },
          {
            "name": "hba1c%",
            "value": "4548-4"
          },
          {
            "name": "hba1c",
            "value": "41995-2"
          }
        ]
      },
      "feature": [
        {
          "name": "value",
          "description": "Value of the lab result",
          "temporalAgg": [
            {
              "aggOp": ["first"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/symptoms",
      "pivot": {
        "name": "code",
        "description": "Symptoms to be evaluated as features",
        "values": [
          {
            "name": "Ankle swelling",
            "value": "267039000"
          },
          {
            "name": "Ascites",
            "value": "389026000"
          },
          {
            "name": "Breathlessness",
            "value": "267036007"
          },
          {
            "name": "Cardiac murmur",
            "value": "59495006"
          },
          {
            "name": "Chest pain",
            "value": "29857009"
          },
          {
            "name": "Cheyne-stokes respiration",
            "value": "90480005"
          },
          {
            "name": "Depression",
            "value": "35489007"
          },
          {
            "name": "Dizziness",
            "value": "404640003"
          },
          {
            "name": "Elevated jugular venous pressure",
            "value": "22447003"
          },
          {
            "name": "Fatigue",
            "value": "84229001"
          },
          {
            "name": "Hepatojugular reflux",
            "value": "72196001"
          },
          {
            "name": "Hepatomegaly",
            "value": "80515008"
          },
          {
            "name": "Intermittent claudication",
            "value": "63491006"
          },
          {
            "name": "Irregular pulse",
            "value": "361137007"
          },
          {
            "name": "Loss of appetite",
            "value": "79890006"
          },
          {
            "name": "Nocturnal cough",
            "value": "161947006"
          },
          {
            "name": "Oliguria",
            "value": "83128009"
          },
          {
            "name": "Orthopnoea",
            "value": "62744007"
          },
          {
            "name": "Palpitations",
            "value": "80313002"
          },
          {
            "name": "Paroxysmal nocturnal dyspnea",
            "value": "55442000"
          },
          {
            "name": "Peripheral edema",
            "value": "271809000"
          },
          {
            "name": "Pleural effusion",
            "value": "60046008"
          },
          {
            "name": "Pulmonary crepitations",
            "value": "48409008"
          },
          {
            "name": "Reduced exercise tolerance",
            "value": "267044007"
          },
          {
            "name": "Syncope",
            "value": "272030005"
          },
          {
            "name": "Tachycardia",
            "value": "3424008"
          },
          {
            "name": "Tachypnoea",
            "value": "271823003"
          },
          {
            "name": "Third heart sound",
            "value": "1285004"
          },
          {
            "name": "Weight gain",
            "value": "8943002"
          },
          {
            "name": "Weight loss",
            "value": "89362005"
          }
        ]
      },
      "feature": [
        {
          "name": "display",
          "description": "Whether the symptom is observed or not",
          "valueExpr": {
            "fhirPath": "code.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/echocardiographs",
      "feature": [
        {
          "name": "lvef",
          "description": "Value of left ventricular ejection fraction"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/electrocardiographs",
      "feature": [
        {
          "name": "ecg_qrs_duration",
          "description": "Duration of QRS wave"
        },
        {
          "name": "ecg_qrs_axis",
          "description": "Axis of QRS wave"
        },
        {
          "name": "ecg_qt_duration_corrected",
          "description": "Duration of QT wave corrected"
        },
        {
          "name": "ecg_st",
          "description": "ST-elevation"
        },
        {
          "name": "ecg_ischemia_without_st",
          "description": "Ischemia without st-elevation"
        },
        {
          "name": "ecg_type_of_rhythm",
          "description": "Type of rhythm"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/smoking_status",
      "feature": [
        {
          "name": "smoker",
          "description": "Whether the patient is smoking currently. We check the last smoking status record and expect that it does not have an end date indicating that the patient is a current smoker",
          "valueExpr": {
            "fhirPath": "startTime.exists() and endTime.exists().not()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "aggOp": [
                "last"
              ]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/smoking_status",
      "filter": {
        "name": "smokingStatus",
        "fhirPath": "startTime.exists()"
      },
      "feature": [
        {
          "name": "startTime",
          "description": "Start time of smoking period"
        },
        {
          "name": "endTime",
          "description": "End time of smoking period"
        },
        {
          "name": "totalSmokingDuration",
          "description": "Total duration of smoking in days.",
          "valueExpr": {
            "fhirPath": "utl:getPeriod(startTime, iif(endTime.exists(), (endTime | %referenceTimePoint).min(), %referenceTimePoint), 'days').toInteger()",
            "dataType": "integer"
          },
          "temporalAgg": [
            {
              "aggOp": [
                "sum"
              ]
            }
          ]
        },
        {
          "name": "startTime",
          "description": "Total number of smoking periods.",
          "temporalAgg": [
            {
              "aggOp": ["count"]
            }
          ]
        },
        {
          "name": "formerSmoker",
          "description": "Whether the patient smoked within 1 year prior to the admission.",
          "valueExpr": {
            "fhirPath": "endTime.exists() and utl:getPeriod(startTime, %referenceTimePoint, 'days').toInteger() > 365",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "aggOp": [
                "any"
              ]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/nyha",
      "feature": [
        {
          "name": "value",
          "description": "New York Heart Assessment value"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/hyperkalemia_severity",
      "feature": [
        {
          "name": "categorizedValue",
          "description": "Severity of hyperkalemia"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/ckd_severity",
      "feature": [
        {
          "name": "categorizedValue",
          "description": "Severity of chronic kidney disease"
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/medications",
      "filter": {
        "name": "med",
        "fhirPath": "medicationCode.startsWith('C09AA') or medicationCode.startsWith('C09B') or medicationCode.startsWith('C09CA') or medicationCode.startsWith('C09D') or medicationCode.startsWith('C09X') or medicationCode.startsWith('BO1AA') or medicationCode.startsWith('BO1AB') or medicationCode.startsWith('BO1AX04') or medicationCode.startsWith('BO1AX05') or medicationCode.startsWith('BO1AF') or medicationCode.startsWith('BO1AE') or medicationCode.startsWith('BO1AX01') or medicationCode.startsWith('BO1AD12') pr or medicationCode.startsWith('B01AC') or medicationCode.startsWith('A10BA') or medicationCode.startsWith('A10BB') or medicationCode.startsWith('A10BG') or medicationCode.startsWith('A10BF') or medicationCode.startsWith('A10BH') or medicationCode.startsWith('A10BJ') or medicationCode.startsWith('A10BD') or medicationCode.startsWith('A10BX09') or medicationCode.startsWith('A10BK01') or medicationCode.startsWith('A10BX12') or medicationCode.startsWith('A10BK03') or medicationCode.startsWith('V03AH01') or medicationCode.startsWith('C01DA') or medicationCode.startsWith('C01DB') or medicationCode.startsWith('C01DX') or medicationCode.startsWith('BO1AD02') or medicationCode.startsWith('BO1AD07') or medicationCode.startsWith('BO1AD11') or medicationCode.startsWith('BO1AD08') or medicationCode.startsWith('BO1AD04') or medicationCode.startsWith('BO1AD03') or medicationCode.startsWith('BO1AD01') or medicationCode.startsWith('BO1AD09') or medicationCode.startsWith('BO1AD06') or medicationCode.startsWith('BO1AD05') or medicationCode.startsWith('C08C') or medicationCode.startsWith('C08D') or medicationCode.startsWith('C08E') or medicationCode.startsWith('C08GA') or medicationCode.startsWith('BO1AC13') or medicationCode.startsWith('BO1AC17') or medicationCode.startsWith('BO1AC16') or medicationCode.startsWith('BO1AC04') or medicationCode.startsWith('BO1AC22') or medicationCode.startsWith('BO1AC05') or medicationCode.startsWith('BO1AC25') or medicationCode.startsWith('BO1AC24') or medicationCode.startsWith('BO1AC19') or medicationCode.startsWith('BO1AC11') or medicationCode.startsWith('BO1AC21') or medicationCode.startsWith('BO1AC06') or medicationCode.startsWith('BO1AC15') or medicationCode.startsWith('BO1AC08') or medicationCode.startsWith('BO1AC10') or medicationCode.startsWith('BO1AC18') or medicationCode.startsWith('BO1AC07') or medicationCode.startsWith('BO1AC03') or medicationCode.startsWith('BO1AC23') or medicationCode.startsWith('BO1AC01') or medicationCode.startsWith('BO1AC02') or medicationCode.startsWith('BO1AC26') or medicationCode.startsWith('C10AA') or medicationCode.startsWith('C10BA') or medicationCode.startsWith('C10BX') or medicationCode.startsWith('C10AX13') or medicationCode.startsWith('C10AX14') or medicationCode.startsWith('C10AC16') or medicationCode.startsWith('C10AX09') or medicationCode.startsWith('A10XA') or medicationCode.startsWith('C07AA') or medicationCode.startsWith('C07AB') or medicationCode.startsWith('C07AG') or medicationCode.startsWith('C07BA') or medicationCode.startsWith('C07BB') or medicationCode.startsWith('C07BG') or medicationCode.startsWith('C07CA') or medicationCode.startsWith('C07CB') or medicationCode.startsWith('C07CG') or medicationCode.startsWith('C07DA') or medicationCode.startsWith('C07DB') or medicationCode.startsWith('C07DG') or medicationCode.startsWith('C07FB') or medicationCode.startsWith('C07FX') or medicationCode.startsWith('C01AA01') or medicationCode.startsWith('C01AA02') or medicationCode.startsWith('C01AA03') or medicationCode.startsWith('C01AA04') or medicationCode.startsWith('C01AA05') or medicationCode.startsWith('C01AA06') or medicationCode.startsWith('C01AA07') or medicationCode.startsWith('C01AA08') or medicationCode.startsWith('C01CA') or medicationCode.startsWith('C01CE') or medicationCode.startsWith('C01CX') or medicationCode.startsWith('C01EB17') or medicationCode.startsWith('C01BA') or medicationCode.startsWith('C01BB') or medicationCode.startsWith('C01BC') or medicationCode.startsWith('C01BD') or medicationCode.startsWith('C01BG') or medicationCode.startsWith('A10AB') or medicationCode.startsWith('A10AC') or medicationCode.startsWith('A10AD') or medicationCode.startsWith('A10AE') or medicationCode.startsWith('A10AF') or medicationCode.startsWith('M01AB') or medicationCode.startsWith('M01AX') or medicationCode.startsWith('C01EB16') or medicationCode.startsWith('R03AA') or medicationCode.startsWith('R03AB') or medicationCode.startsWith('R03AC') or medicationCode.startsWith('R03AH') or medicationCode.startsWith('R03AK') or medicationCode.startsWith('R03AL') or medicationCode.startsWith('R03BA') or medicationCode.startsWith('R03BB') or medicationCode.startsWith('R03BC') or medicationCode.startsWith('R03BX') or medicationCode.startsWith('H02A') or medicationCode.startsWith('H02BX') or medicationCode.startsWith('H02C') or medicationCode.startsWith('R03CA') or medicationCode.startsWith('R03CB') or medicationCode.startsWith('R03CC') or medicationCode.startsWith('R03CK') or medicationCode.startsWith('R03DA') or medicationCode.startsWith('R03DB') or medicationCode.startsWith('R03DC') or medicationCode.startsWith('R03DX') or medicationCode.startsWith('V03AE01') or medicationCode.startsWith('V03AE10') or medicationCode.startsWith('V03AE09') or medicationCode.startsWith('C03A') or medicationCode.startsWith('C03D') or medicationCode.startsWith('C03E') or medicationCode.startsWith('C03XA') or (medicationCode.startsWith('C03BA') and medicationCode.startsWith('C03BA82').not()) or medicationCode.startsWith('C03BB') or medicationCode.startsWith('C03CA') or medicationCode.startsWith('C03CB') or medicationCode.startsWith('C03CC') or medicationCode.startsWith('C03CX') or medicationCode.startsWith('C07DZ') or medicationCode.startsWith('C02LA') or medicationCode.startsWith('C02LB') or medicationCode.startsWith('C02LC') or medicationCode.startsWith('C02LG') or medicationCode.startsWith('C02LK') or medicationCode.startsWith('C02LL') or medicationCode.startsWith('C02LX')"
      },
      "pivot": {
        "name": "medicationCode",
        "description": "ATC code of the medication"
      },
      "feature": [
        {
          "name": "startTime",
          "description": "Start time of medication administration",
          "temporalAgg": [
            {
              "aggOp": ["first", "last"]
            }
          ]
        },
        {
          "name": "dose",
          "description": "Dose of medications administered",
          "temporalAgg": [
            {
              "aggOp": ["set"]
            }
          ]
        },
        {
          "name": "offsetOfDay",
          "description": "Offset of the day when the medication is administered relative to the admission date, starting from zero (0).",
          "valueExpr": {
            "fhirPath": "utl:getPeriod(%eligibilityEventTime, startTime, 'days')",
            "dataType": "integer"
          },
          "temporalAgg": [
            {
              "aggOp": ["set"]
            }
          ]
        },
        {
          "name": "administeredAtAdmission",
          "description": "Whether the medication was administered at admission or after. Note that this is always true.",
          "valueExpr": {
            "fhirPath": "true",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "aggOp": ["set"]
            }
          ]
        },
        {
          "name": "doseAtDischarge",
          "description": "Dose at discharge.",
          "valueExpr": {
            "fhirPath": "dose",
            "dataType": "decimal"
          },
          "temporalAgg": [
            {
              "aggOp": ["last"]
            }
          ]
        },
        {
          "name": "dailyDoseAvg",
          "description": "Average of the total daily dose amount.",
          "valueExpr": {
            "fhirPath": "dose / (utl:getPeriod(%eligibilityEventTime, %eligibilityExitTime, 'days') + 1)",
            "dataType": "decimal"
          },
          "temporalAgg": [
            {"aggOp": ["sum"] }
          ]
        },
        {
          "name": "dailyNumberAvg",
          "description": "Average of the number of times the medication is administered during the hospitalization.",
          "valueExpr": {
            "fhirPath": "1 / (utl:getPeriod(%eligibilityEventTime, %eligibilityExitTime, 'days') + 1)",
            "dataType": "decimal"
          },
          "temporalAgg": [
            {"aggOp": ["sum"] }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "heartFailure",
        "fhirPath": "icd10Code.startsWith('I50') or icd10Code.startsWith('I11') or icd10Code.startsWith('I13.0') or icd10Code.startsWith('I13.2') or icd10Code.startsWith('I26.0') or icd10Code.startsWith('I09.81') or icd10Code.startsWith('I97.13')"
      },
      "feature": [
        {
          "name": "earliest",
          "description": "ICD code representing the heart failure diagnosis observed for the first time.",
          "valueExpr": {
            "fhirPath": "icd10Code",
            "dataType": "code"
          },
          "temporalAgg": [
            {
              "aggOp": ["first"]
            }
          ]
        },
        {
          "name": "timeFromEarliest",
          "description": "Time elapsed (in months) since heart failure is observed for the first time until the reference time point.",
          "valueExpr": {
            "fhirPath": "utl:getPeriod(onsetDate, %referenceTimePoint,'mo').toInteger()",
            "dataType": "integer"
          },
          "temporalAgg": [
            {
              "aggOp": ["first"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "ap",
        "fhirPath": "icd10Code.startsWith('I20')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has angina pectoris in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "af",
        "fhirPath": "icd10Code.startsWith('I48')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has atrial fibrillation in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "cm",
        "fhirPath": "icd10Code.startsWith('I42') or icd10Code.startsWith('I43')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has cardiomyopathy in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "dysl",
        "fhirPath": "icd10Code.startsWith('E78')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has dyslipidemia in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "hf",
        "fhirPath": "icd10Code.startsWith('I50') or icd10Code.startsWith('I11') or icd10Code.startsWith('I13.0') or icd10Code.startsWith('I13.2') or icd10Code.startsWith('I26.0') or icd10Code.startsWith('I25.5') or icd10Code.startsWith('I09.81') or icd10Code.startsWith('I97.13')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has heart failure in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "hyp",
        "fhirPath": "icd10Code.startsWith('I10') or icd10Code.startsWith('I11') or icd10Code.startsWith('I12') or icd10Code.startsWith('I13') or icd10Code.startsWith('I15') or icd10Code.startsWith('I16')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has hypertension in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "ihd",
        "fhirPath": "icd10Code.startsWith('I20') or icd10Code.startsWith('I21') or icd10Code.startsWith('I22') or icd10Code.startsWith('I23') or icd10Code.startsWith('I24') or icd10Code.startsWith('I25')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has ischemic heart disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "mi",
        "fhirPath": "icd10Code.startsWith('I21') or icd10Code.startsWith('I22')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has myocardial infarction in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "pad",
        "fhirPath": "icd10Code.startsWith('I73') or icd10Code.startsWith('I70') or icd10Code.startsWith('I71') or icd10Code.startsWith('I72') or icd10Code.startsWith('I74') or icd10Code.startsWith('I75') or icd10Code.startsWith('I77') or icd10Code.startsWith('I78') or icd10Code.startsWith('I79')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has peripheral artery disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "stroke",
        "fhirPath": "icd10Code.startsWith('I60') or icd10Code.startsWith('I61') or icd10Code.startsWith('I62') or icd10Code.startsWith('I63') or icd10Code.startsWith('I64')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has stroke in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "tia",
        "fhirPath": "icd10Code.startsWith('G45.8') or icd10Code.startsWith('G45.9') or icd10Code.startsWith('I63.9')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has transient ischemic attack in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "vd",
        "fhirPath": "icd10Code.startsWith('A52.0') or icd10Code.startsWith('I05') or icd10Code.startsWith('I06') or icd10Code.startsWith('I07') or icd10Code.startsWith('I08') or icd10Code.startsWith('I09.1') or icd10Code.startsWith('I09.8') or icd10Code.startsWith('I34') or icd10Code.startsWith('I35') or icd10Code.startsWith('I36') or icd10Code.startsWith('I37') or icd10Code.startsWith('I38') or icd10Code.startsWith('I39') or icd10Code.startsWith('Q23.0') or icd10Code.startsWith('Q23.1') or icd10Code.startsWith('Q23.2') or icd10Code.startsWith('Q23.3') or icd10Code.startsWith('Z95.2') or icd10Code.startsWith('Z95.3') or icd10Code.startsWith('Z95.4')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has valvular disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "revasc",
        "fhirPath": "icd10Code.startsWith('Z95.5')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has revascularized CABG, PCI in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "devices",
        "fhirPath": "icd10Code.startsWith('Z95.0') or icd10Code.startsWith('Z95.8') or icd10Code.startsWith('Z95.0') or icd10Code.startsWith('Z95.8')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has cardiac and vascular implants and grafts in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "aidshiv",
        "fhirPath": "icd10Code.startsWith('B20') or icd10Code.startsWith('B21') or icd10Code.startsWith('B22') or icd10Code.startsWith('B23') or icd10Code.startsWith('B24')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has AIDS or HIV in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "copd",
        "fhirPath": "icd10Code.startsWith('J40') or icd10Code.startsWith('J41') or icd10Code.startsWith('J42') or icd10Code.startsWith('J43') or icd10Code.startsWith('J44')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has COPD in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "dm",
        "fhirPath": "icd10Code.startsWith('E10') or icd10Code.startsWith('E11') or icd10Code.startsWith('E12') or icd10Code.startsWith('E13') or icd10Code.startsWith('E14')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has diabetes mellitus in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "dem",
        "fhirPath": "icd10Code.startsWith('F00') or icd10Code.startsWith('F01') or icd10Code.startsWith('F02') or icd10Code.startsWith('F03') or icd10Code.startsWith('F05.1') or icd10Code.startsWith('G30') or icd10Code.startsWith('G31.1')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has dementia in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "dep",
        "fhirPath": "icd10Code.startsWith('F20.4') or icd10Code.startsWith('F31.3') or icd10Code.startsWith('F31.4') or icd10Code.startsWith('F31.5') or icd10Code.startsWith('F32') or icd10Code.startsWith('F33') or icd10Code.startsWith('F34.1') or icd10Code.startsWith('F41.2') or icd10Code.startsWith('F43.2')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has depression in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "dia",
        "fhirPath": "icd10Code.startsWith('Z49.01') or icd10Code.startsWith('Z49.02') or icd10Code.startsWith('Z46.6') or icd10Code.startsWith('Z99.2') or icd10Code.startsWith('Z94.0')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has dialysis in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "hypert",
        "fhirPath": "icd10Code.startsWith('E00') or icd10Code.startsWith('E01') or icd10Code.startsWith('E02') or icd10Code.startsWith('E03') or icd10Code.startsWith('E04')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has hyperthyroidism in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "ibd",
        "fhirPath": "icd10Code.startsWith('K50') or icd10Code.startsWith('K51') or icd10Code.startsWith('K52')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has inflammable bowel disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "ld",
        "fhirPath": "icd10Code.startsWith('B18') or icd10Code.startsWith('I85') or icd10Code.startsWith('I86.4') or icd10Code.startsWith('I98.2') or icd10Code.startsWith('K70') or icd10Code.startsWith('K71.1') or icd10Code.startsWith('K71.3') or icd10Code.startsWith('K71.4') or icd10Code.startsWith('K71.5') or icd10Code.startsWith('K71.7')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has liver disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "mc",
        "fhirPath": "icd10Code.startsWith('C0') or icd10Code.startsWith('C1') or icd10Code.startsWith('C20') or icd10Code.startsWith('C21') or icd10Code.startsWith('C22') or icd10Code.startsWith('C23') or icd10Code.startsWith('C24') or icd10Code.startsWith('C25') or icd10Code.startsWith('C26') or icd10Code.startsWith('C30') or icd10Code.startsWith('C31') or icd10Code.startsWith('C32') or icd10Code.startsWith('C33') or icd10Code.startsWith('C34') or icd10Code.startsWith('C37') or icd10Code.startsWith('C38') or icd10Code.startsWith('C39') or icd10Code.startsWith('C40') or icd10Code.startsWith('C41') or icd10Code.startsWith('C43') or icd10Code.startsWith('C45') or icd10Code.startsWith('C46') or icd10Code.startsWith('C47') or icd10Code.startsWith('C48') or icd10Code.startsWith('C49') or (icd10Code.startsWith('C5') and icd10Code.startsWith('C59').not()) or icd10Code.startsWith('C6') or (icd10Code.startsWith('C7') and icd10Code.startsWith('C77').not() and icd10Code.startsWith('C78').not() and icd10Code.startsWith('C79').not())"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has malignant cancer in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "osa",
        "fhirPath": "icd10Code.startsWith('G47.3')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has obstructive sleep apnea in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "rd",
        "fhirPath": "icd10Code.startsWith('M05') or icd10Code.startsWith('M06') or icd10Code.startsWith('M31.5') or icd10Code.startsWith('M32') or icd10Code.startsWith('M33') or icd10Code.startsWith('M34') or icd10Code.startsWith('M35.1') or icd10Code.startsWith('M35.3') or icd10Code.startsWith('M36.0')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has rheumatic disease in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "filter": {
        "name": "ckd_chronic",
        "fhirPath": "icd10Code.startsWith('N18') or icd10Code.startsWith('N19')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the patient has renal disease chronic in their clinical history prior to the date of the data point (i.e. the reference time point)",
          "valueExpr": {
            "fhirPath": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/encounters",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "hosp_for_heart_failure",
        "fhirPath": "primaryReasonCode.startsWith('I50') or primaryReasonCode.startsWith('I11') or primaryReasonCode.startsWith('I13.0') or primaryReasonCode.startsWith('I13.2') or primaryReasonCode.startsWith('I26.0')"
      },
      "feature": [
        {
          "name": "exists",
          "description": "Whether the patient is hospitalized because of heart failure after the reference time point.",
          "valueExpr": {
            "fhirPath": "primaryReasonCode.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/encounters",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "hosp_for_CV_disease",
        "fhirPath": "primaryReasonCode.startsWith('I') or primaryReasonCode.startsWith('G45') or primaryReasonCode.startsWith('J81') or primaryReasonCode.startsWith('K76.1') or primaryReasonCode.startsWith('R57')"
      },
      "feature": [
        {
          "name": "exists",
          "description": "Whether the patient is hospitalized because of any cardiovascular condition after the reference time point.",
          "valueExpr": {
            "fhirPath": "primaryReasonCode.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/encounters",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "hosp_for_non_cv_disease",
        "fhirPath": "(primaryReasonCode.startsWith('I') or primaryReasonCode.startsWith('G45') or primaryReasonCode.startsWith('J81') or primaryReasonCode.startsWith('K76.1') or primaryReasonCode.startsWith('R57')).not()"
      },
      "feature": [
        {
          "name": "exists",
          "description": "Whether the patient is hospitalized because of any non-cardiovascular condition after the reference time point.",
          "valueExpr": {
            "fhirPath": "primaryReasonCode.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/encounters",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "hosp_for_renal_complications",
        "fhirPath": "primaryReasonCode.startsWith('N18') or primaryReasonCode.startsWith('N19')"
      },
      "feature": [
        {
          "name": "exists",
          "description": "Whether the patient is hospitalized because of any renal complication after the reference time point.",
          "valueExpr": {
            "fhirPath": "primaryReasonCode.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/cause_of_death",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "isCardivascular",
        "fhirPath": "causeOfDeath.startsWith('I') or causeOfDeath.startsWith('G45') or causeOfDeath.startsWith('J81') or causeOfDeath.startsWith('K76.1') or causeOfDeath.startsWith('R57')"
      },
      "feature": [
        {
          "name": "causeOfDeath",
          "description": "Whether the patient dies because of any cardiovascular condition after the reference time point.",
          "valueExpr": {
            "fhirPath": "causeOfDeath.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/cause_of_death",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "isRenal",
        "fhirPath": "causeOfDeath.startsWith('N18') or causeOfDeath.startsWith('N19')"
      },
      "feature": [
        {
          "name": "causeOfDeath",
          "description": "Whether the patient dies because of any renal complication after the reference time point.",
          "valueExpr": {
            "fhirPath": "causeOfDeath.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    },
    {
      "reference": "https://datatools4heart.eu/feature-groups/study1/cause_of_death",
      "join": {
        "type": "future"
      },
      "filter": {
        "name": "isNonRenalAndNonCV",
        "fhirPath": "(causeOfDeath.startsWith('N18') or causeOfDeath.startsWith('N19')).not() and (causeOfDeath.startsWith('I') or causeOfDeath.startsWith('G45') or causeOfDeath.startsWith('J81') or causeOfDeath.startsWith('K76.1') or causeOfDeath.startsWith('R57')).not()"
      },
      "feature": [
        {
          "name": "causeOfDeath",
          "description": "Whether the patient dies because of any non-cardiovascular and non-renal condition after the reference time point.",
          "valueExpr": {
            "fhirPath": "causeOfDeath.exists()",
            "dataType": "boolean"
          },
          "temporalAgg": [
            {
              "windowPeriod": "d",
              "windowSize": 7,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "mo",
              "windowSize": 6,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 1,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 3,
              "aggOp": ["any"]
            },{
              "windowPeriod": "a",
              "windowSize": 5,
              "aggOp": ["any"]
            }
          ]
        }
      ]
    }
  ],
  "combinedFeature": [
    {
      "name": "vital_signs_meanBp",
      "description": "Mean blood pressure",
      "combinedFeatures": [
        {
          "alias": "diastolicBp",
          "featureNamePattern": "vital_signs_diastolicBp_value_f"
        },
        {
          "alias": "systolicBp",
          "featureNamePattern": "vital_signs_systolicBp_value_f"
        }
      ],
      "valueExpr": {
        "fhirPath": "diastolicBp + (systolicBp - diastolicBp) / 3",
        "dataType": "decimal"
      }
    },
    {
      "name": "vital_signs_bmi",
      "description": "Body mass index",
      "combinedFeatures": [
        {
          "alias": "weight",
          "featureNamePattern": "vital_signs_weight_value_f"
        },
        {
          "alias": "height",
          "featureNamePattern": "vital_signs_height_value_f"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif(height != 0, weight / (height * height / 10000), {})",
        "dataType": "decimal"
      }
    },
    {
      "name": "procedures_htx_occurence",
      "description": "Heart transplant occurrence",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_htx_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_htx_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_htx_date",
      "description": "Heart transplant occurrence date",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_htx_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_htx_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_vad_occurrence",
      "description": "Implantation ventricular assist device occurrence",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_vad_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_vad_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_vad_date",
      "description": "Implantation ventricular assist device occurrence date",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_vad_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_vad_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_icdtd_occurrence",
      "description": "Occurrence of implantation internal cardiac defibrillator or cardiac resynchronization therapy device",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_icdtd_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_icdtd_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_icdtd_date",
      "description": "Occurrence date of implantation internal cardiac defibrillator or cardiac resynchronization therapy device",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_icdtd_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_icdtd_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_pacemaker_occurrence",
      "description": "Occurrence of pacemaker implantation",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_pacemaker_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_pacemaker_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_pacemaker_date",
      "description": "Occurrence date of pacemaker implantation",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_pacemaker_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_pacemaker_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_mi_occurrence",
      "description": "Occurrence of procedures related to myocardial infarction",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_mi_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_mi_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_mi_date",
      "description": "Occurrence date of procedures related to myocardial infarction",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_mi_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_mi_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_arrest_occurrence",
      "description": "Occurrence of cardiac arrest",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_arrest_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_arrest_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_arrest_date",
      "description": "Occurrence date of cardiac arrest",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_arrest_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_arrest_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_rhythmcorr_occurrence",
      "description": "Occurrence of rhythm correction",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_rhythmcorr_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_rhythmcorr_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_rhythmcorr_date",
      "description": "Occurrence date of rhythm correction",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_rhythmcorr_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_rhythmcorr_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_valves_occurrence",
      "description": "Occurrence of heart valves",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_valves_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_valves_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_valves_date",
      "description": "Occurrence date of heart valves",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_valves_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_valves_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    },
    {
      "name": "procedures_rtx_occurrence",
      "description": "Occurrence of renal transplant",
      "combinedFeatures": [
        {
          "alias": "cond",
          "featureNamePattern": "conditions_rtx_cond_occurred_*"
        },
        {
          "alias": "proc",
          "featureNamePattern": "procedures_rtx_proc_occurred_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "cond or proc",
        "dataType": "boolean"
      }
    },
    {
      "name": "procedures_rtx_date",
      "description": "Occurrence date of renal transplant",
      "combinedFeatures": [
        {
          "alias": "cond_date",
          "featureNamePattern": "conditions_rtx_cond_onsetDate_*"
        },
        {
          "alias": "proc_date",
          "featureNamePattern": "procedures_rtx_proc_performedDate_*"
        }
      ],
      "valueExpr": {
        "fhirPath": "iif (proc_date.exists(), proc_date, cond_date)",
        "dataType": "dateTime"
      }
    }
  ]
}
