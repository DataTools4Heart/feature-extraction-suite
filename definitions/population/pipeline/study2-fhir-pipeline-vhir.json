{
  "id": "study2_cohort_vhir",
  "resourceType": "PopulationPipeline",
  "url": "https://datatools4heart.eu/cohorts/study2-vhir",
  "name": "study2_cohort_vhir",
  "title": "Hospitalized Patients at Emergency with Primary Diagnosis of Heart Failure",
  "description": "This cohort includes patients hospitalized at emergency department with a primary discharge diagnosis of heart failure. The primary discharge diagnosis refers to the main clinical condition responsible for the hospital admission.All patients in this cohort are assumed to have heart failure; therefore, no additional eligibility criteria are applied to confirm the presence of heart failure.",
  "version": "1.1",
  "date": "2026-02-19",
  "status": "active",
  "publisher": "DataTools4Heart/AI4HF Team (SRDC Corp.)",
  "interface": "fhir",
  "supportedVersions": [
    "R5"
  ],
  "entry": [
    {
      "name": "patientAmbulatoryEncounter",
      "description": "Captures ambulatory visits/encounters to the Emergency Department, having the encounter class EMER.",
      "resourceType": "Encounter",
      "query": "?class=EMER",
      "entityLink": [
        {
          "entity": "pid",
          "entityType": "Patient",
          "searchParam": "patient",
          "path": "subject.reference"
        },
        {
          "entity": "encounterId",
          "entityType": "Encounter",
          "searchParam": "_id",
          "path": "id"
        }
      ],
      "eventTime": "Encounter.actualPeriod.start"
    },
    {
      "name": "patientEmergencyDepartmentAdmission",
      "description": "Captures encounters where the patient was admitted through the Emergency Department.",
      "resourceType": "Encounter",
      "query": "?admit-source=emd",
      "entityLink": [
        {
          "entity": "pid",
          "entityType": "Patient",
          "searchParam": "patient",
          "path": "subject.reference"
        },
        {
          "entity": "encounterId",
          "entityType": "Encounter",
          "searchParam": "_id",
          "path": "id"
        }
      ],
      "eventTime": "Encounter.actualPeriod.start"
    }
  ],
  "eligibility": [
    {
      "name": "adults",
      "description": "Exclude Patients who are younger than 18 years old at the time of admission.",
      "criteria": [
        {
          "resourceType": "Patient",
          "category": "exclusion",
          "entityLink": [
            {
              "entity": "pid",
              "entityType": "Patient",
              "searchParam": "_id",
              "path": "id"
            }
          ],
          "timeConstraint": {
            "path": "birthDate.toDate()",
            "start": "(%eligibilityEventTime - 18 years)"
          }
        }
      ]
    }
  ]
}
