{
  "url": "https://datatools4heart.eu/feature-sets/maggic-mlp",
  "name": "maggic-mlp",
  "title": "MAGGIC-MLP Features",
  "description": "Set of extracted features for MAGGIC-MLP",
  "version": "0.1",
  "status": "draft",
  "date": "2025-01-09",
  "publisher": "DT4H WP2 Team (SRDC Corp.)",
  "entity": [
    {
      "name": "pid",
      "description": "A unique identifier assigned to each patient in the cohort."
    },
    {
      "name": "encounterId",
      "description": "A unique identifier for each hospital encounter."
    }
  ],
  "sampling": {
    "description": "The time period is divided into 1a periods.",
    "period": "1a"
  },
  "feature": [
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/patient_demographics",
      "join": {
        "on": {
          "pid": "pid"
        }
      },
      "feature": [
        {
          "name": "gender",
          "description": "Gender of the patient"
        },
        {
          "name": "age",
          "description": "Age of the patient at reference point",
          "value": {
            "path": "utl:getPeriod(birthDate, %referenceTimePoint, 'years')",
            "dataType": "integer"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/nyha",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "feature": [
        {
          "name": "nyha",
          "description": "Value of the New York Heart Assessment as LOINC Code"
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/vital_signs",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "pivot": {
        "name": "code",
        "description": "Important vital signs",
        "values": [
          {
            "name": "systolic-blood-pressure",
            "value": "8480-6"
          }
        ]
      },
      "feature": [
        {
          "name": "value",
          "description": "Numeric result"
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/lab_results",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "pivot": {
        "name": "code",
        "description": "Important lab results",
        "values": [
          {
            "name": "sodium",
            "value": "2951-2"
          }
        ]
      },
      "feature": [
        {
          "name": "value",
          "description": "Numeric result"
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid"
        }
      },
      "filter": {
        "name": "heart-failure",
        "description": "Find the Heart Failures.",
        "filter": "icd10Code.startsWith('I50') or icd10Code.startsWith('I11.0') or icd10Code.startsWith('I13.0') or icd10Code.startsWith('I13.2') or icd10Code.startsWith('I26.0') or icd10Code.startsWith('I25.5') or icd10Code.startsWith('I09.81') or icd10Code.startsWith('I97.13')"
      },
      "feature": [
        {
          "name": "occurred_prior_to_18_months",
          "description": "Indicates whether the condition was diagnosed 18 months or more before the reference time point, corresponding to the criteria for 'Heart Failure (HF) â‰¥ 18 Months Prior.'",
          "value": {
            "path": "icd10Code.exists() and utl:getPeriod(%referenceTimePoint, date, 'months') >= 18",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "diabetes",
        "description": "Find the diabetes.",
        "filter": "icd10Code.startsWith('E10') or icd10Code.startsWith('E11') or icd10Code.startsWith('E12') or icd10Code.startsWith('E13') or icd10Code.startsWith('E14')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "stroke",
        "description": "Find the strokes.",
        "filter": "icd10Code.startsWith('I61') or icd10Code.startsWith('I62') or icd10Code.startsWith('I63') or icd10Code.startsWith('I64') or icd10Code.startsWith('I60')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "cabg",
        "description": "Find the Coronary Artery Bypass Graft (CABG) Surgeries.",
        "filter": "icd10Code.startsWith('Z95.5')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "pci",
        "description": "Find the Percutaneous Coronary Intervention (PCI).",
        "filter": "icd10Code.startsWith('Z95.5')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "myocardial-infarction",
        "description": "Find the Myocardial Infarctions.",
        "filter": "icd10Code.startsWith('I21') or icd10Code.startsWith('I22')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "atrial-fibrillation",
        "description": "Find the Atrial Fibrillations.",
        "filter": "icd10Code.startsWith('I48')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/conditions",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "chronic-obstructive-pulmonary-disease",
        "description": "Find the Chronic Obstructive Pulmonary Disease (COPD).",
        "filter": "icd10Code.startsWith('J40') or icd10Code.startsWith('J41') or icd10Code.startsWith('J42') or icd10Code.startsWith('J43') or icd10Code.startsWith('J44')"
      },
      "feature": [
        {
          "name": "occurred",
          "description": "Whether the condition occurred.",
          "value": {
            "path": "icd10Code.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/medications",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "beta-blocker-use",
        "description": "Find Beta Blocker medications.",
        "filter": "medicationCode.startsWith('C07AA') or medicationCode.startsWith('C07AB') or medicationCode.startsWith('C07AG') or medicationCode.startsWith('C07BA') or medicationCode.startsWith('C07BB') or medicationCode.startsWith('C07BG') or medicationCode.startsWith('C07CA') or medicationCode.startsWith('C07CB') or medicationCode.startsWith('C07CG') or medicationCode.startsWith('C07DA') or medicationCode.startsWith('C07DB') or medicationCode.startsWith('C07DG') or medicationCode.startsWith('C07FB') or medicationCode.startsWith('C07FX')"
      },
      "feature": [
        {
          "name": "administered",
          "description": "Whether the medication administered.",
          "value": {
            "path": "medicationCode.exists()",
            "dataType": "boolean"
          }
        }
      ]
    },
    {
      "url": "https://datatools4heart.eu/feature-groups/study1/medications",
      "join": {
        "on": {
          "pid": "pid",
          "encounterId": "encounterId"
        }
      },
      "filter": {
        "name": "ace-inhibitors-arb-use",
        "description": "Find ACE Inhibitors / ARB Use medications.",
        "filter": "medicationCode.startsWith('C09AA') or medicationCode.startsWith('C09BA') or medicationCode.startsWith('C09BB02') or medicationCode.startsWith('C09BB03') or medicationCode.startsWith('C09BB04') or medicationCode.startsWith('C09BB05') or medicationCode.startsWith('C09BB06') or medicationCode.startsWith('C09BB07') or medicationCode.startsWith('C09BB08') or medicationCode.startsWith('C09BB09') or medicationCode.startsWith('C09BB010') or medicationCode.startsWith('C09BB011') or medicationCode.startsWith('C09BB012') or medicationCode.startsWith('C09BX01') or medicationCode.startsWith('C09BX02') or medicationCode.startsWith('C09BX03') or medicationCode.startsWith('C09BX04') or medicationCode.startsWith('C09BX05') or medicationCode.startsWith('C09CA') or medicationCode.startsWith('C09DA') or medicationCode.startsWith('C09DB') or medicationCode.startsWith('C09DX01') or medicationCode.startsWith('C09DX02') or medicationCode.startsWith('C09DX03') or medicationCode.startsWith('C09DX04') or medicationCode.startsWith('C09DX05') or medicationCode.startsWith('C09DX06') or medicationCode.startsWith('C09DX07') or medicationCode.startsWith('C09DX04')"
      },
      "feature": [
        {
          "name": "administered",
          "description": "Whether the medication administered.",
          "value": {
            "path": "medicationCode.exists()",
            "dataType": "boolean"
          }
        }
      ]
    }
  ]
}